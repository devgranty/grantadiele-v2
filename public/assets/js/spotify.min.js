const getAuthToken=async()=>{const e=btoa("5df897a3a6e044d4b89069aefdab67fe:3e0f13fffeb44b16a4e6681baaa3c2a1");var t=new URLSearchParams;t.append("grant_type","refresh_token"),t.append("refresh_token","AQBQUBltqc7Eq5cHCZmWAaAGH1mtPuK9cK8IVLY1CxlrMqUcx-oRhg4xNLwqOLBB76Vy0md3YqTGyxw9BycwP4FQahJtYR9OARUcD6KSekCMbvVQFjO-Lr8WxnjQvA-tNNM");return(await axios({url:"https://accounts.spotify.com/api/token",method:"POST",headers:{Authorization:`Basic ${e}`,"Content-Type":"application/x-www-form-urlencoded"},data:t})).data.access_token},getCurrentTrack=async e=>{const t=document.getElementById("songName"),a=document.getElementById("songArtist"),n=await axios({url:"https://api.spotify.com/v1/me/player/currently-playing",method:"GET",headers:{Authorization:`Bearer ${e}`}}),r=await axios({url:"https://api.spotify.com/v1/me/player/recently-played?limit=1",method:"GET",headers:{Authorization:`Bearer ${e}`}});if(""!==n.data){t.innerText=n.data.item.name;let e=[];n.data.item.artists.forEach((t=>{e.push(t.name)})),a.innerText=e.toString()}else{var o=r.data.items[0].track;t.innerText=o.name;let e=[];o.artists.forEach((t=>{e.push(t.name)})),a.innerText=e.toString()}};getAuthToken().then((e=>getCurrentTrack(e)));